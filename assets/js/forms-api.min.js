!function(){var o=void 0;!function i(a,s,c){function u(t,e){if(!s[t]){if(!a[t]){var r=!1;if(!e&&r)return r(t,!0);if(l)return l(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=s[t]={exports:{}};a[t][0].call(o.exports,function(e){return u(a[t][1][e]||e)},o,o.exports,i,a,s,c)}return s[t].exports}for(var l=!1,e=0;e<c.length;e++)u(c[e]);return u}({1:[function(e,t,r){"use strict";var n,o=(n=e("./misc/scroll-to-element.js"))&&n.__esModule?n:{default:n};e("./forms/conditional-elements.js");var i,a,s,c,u,l,f=window.mc4wp||{},d=e("./forms/forms.js"),m=window.mc4wp_forms_config||{};function p(e,t){d.trigger(t[0].id+"."+e,t),d.trigger(e,t)}function h(e,r){document.addEventListener(e,function(e){if(e.target){var t=e.target;(t.className&&-1!==t.className.indexOf("mc4wp-form")||t.matches&&t.matches(".mc4wp-form *"))&&r.call(e,e)}},!0)}if(h("submit",function(e){var t=d.getByElement(e.target);e.defaultPrevented||d.trigger(t.id+".submit",[t,e]),e.defaultPrevented||d.trigger("submit",[t,e])}),h("focus",function(e){var t=d.getByElement(e.target);t.started||(p("started",[t,e]),t.started=!0)}),h("change",function(e){p("change",[d.getByElement(e.target),e])}),f.listeners){for(var v=f.listeners,g=0;g<v.length;g++)d.on(v[g].event,v[g].callback);delete f.listeners}if(f.forms=d,m.submitted_form){var y=m.submitted_form,w=document.getElementById(y.element_id),b=d.getByElement(w);i=b,a=y.event,s=y.errors,c=y.data,u=Date.now(),l=document.body.clientHeight,s&&i.setData(c),window.scrollY<=10&&m.auto_scroll&&(0,o.default)(i.element),window.addEventListener("load",function(){p("submitted",[i]),s?p("error",[i,s]):(p("success",[i,c]),p(a,[i,c]),"updated_subscriber"===a&&p("subscribed",[i,c,!0]));var e=Date.now()-u;m.auto_scroll&&1e3<e&&e<2e3&&document.body.clientHeight!==l&&(0,o.default)(i.element)})}window.mc4wp=f},{"./forms/conditional-elements.js":2,"./forms/forms.js":4,"./misc/scroll-to-element.js":5}],2:[function(e,t,r){"use strict";function n(e){for(var t=!!e.getAttribute("data-show-if"),r=t?e.getAttribute("data-show-if").split(":"):e.getAttribute("data-hide-if").split(":"),n=r[0],o=(1<r.length?r[1]:"*").split("|"),i=function(e,t){for(var r=[],n=e.querySelectorAll('input[name="'+t+'"], select[name="'+t+'"], textarea[name="'+t+'"]'),o=0;o<n.length;o++){var i=n[o];("radio"!==i.type&&"checkbox"!==i.type||i.checked)&&r.push(i.value)}return r}(function(e){for(var t=e;t.parentElement;)if("FORM"===(t=t.parentElement).tagName)return t;return null}(e),n),a=!1,s=0;s<i.length;s++){var c=i[s];if(a=-1<o.indexOf(c)||-1<o.indexOf("*")&&0<c.length)break}e.style.display=t?a?"":"none":a?"none":"";var u=e.querySelectorAll("input, select, textarea");[].forEach.call(u,function(e){(a||t)&&e.getAttribute("data-was-required")&&(e.required=!0,e.removeAttribute("data-was-required")),a&&t||!e.required||(e.setAttribute("data-was-required","true"),e.required=!1)})}function o(){var e=document.querySelectorAll(".mc4wp-form [data-show-if], .mc4wp-form [data-hide-if]");[].forEach.call(e,n)}function i(e){if(e.target&&e.target.form&&!(e.target.form.className.indexOf("mc4wp-form")<0)){var t=e.target.form.querySelectorAll("[data-show-if], [data-hide-if]");[].forEach.call(t,n)}}document.addEventListener("keyup",i,!0),document.addEventListener("change",i,!0),document.addEventListener("mc4wp-refresh",o,!0),window.addEventListener("load",o),o()},{}],3:[function(e,t,r){"use strict";function n(e,t){this.id=e,this.element=t||document.createElement("form"),this.name=this.element.getAttribute("data-name")||"Form #"+this.id,this.errors=[],this.started=!1}var o=e("form-serialize"),i=e("populate.js");n.prototype.setData=function(e){try{i(this.element,e)}catch(e){console.error(e)}},n.prototype.getData=function(){return o(this.element,{hash:!0,empty:!0})},n.prototype.getSerializedData=function(){return o(this.element,{hash:!1,empty:!0})},n.prototype.setResponse=function(e){this.element.querySelector(".mc4wp-response").innerHTML=e},n.prototype.reset=function(){this.setResponse(""),this.element.querySelector(".mc4wp-form-fields").style.display="",this.element.reset()},t.exports=n},{"form-serialize":6,"populate.js":7}],4:[function(e,t,r){"use strict";var n=e("./form.js"),o=[],i={};function a(e,t){i[e]=i[e]||[],i[e].forEach(function(e){return e.apply(null,t)})}function s(e,t){t=t||parseInt(e.getAttribute("data-id"))||0;var r=new n(t,e);return o.push(r),r}t.exports={get:function(e){e=parseInt(e);for(var t=0;t<o.length;t++)if(o[t].id===e)return o[t];return s(document.querySelector(".mc4wp-form-"+e),e)},getByElement:function(e){for(var t=e.form||e,r=0;r<o.length;r++)if(o[r].element===t)return o[r];return s(t)},on:function(e,t){i[e]=i[e]||[],i[e].push(t)},off:function(e,t){i[e]=i[e]||[],i[e]=i[e].filter(function(e){return e!==t})},trigger:function(e,t){"submit"===e||0<e.indexOf(".submit")?a(e,t):window.setTimeout(function(){a(e,t)},1)}}},{"./form.js":3}],5:[function(e,t,r){"use strict";t.exports=function(e){var t=window.pageXOffset||document.documentElement.scrollLeft,r=function(e){var t=document.body,r=document.documentElement,n=e.getBoundingClientRect(),o=r.clientHeight,i=Math.max(t.scrollHeight,t.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight),a=n.bottom-o/2-n.height/2,s=i-o;return Math.min(a+window.pageYOffset,s)}(e);window.scrollTo(t,r)}},{}],6:[function(e,t,r){var v=/^(?:submit|button|image|reset|file)$/i,g=/^(?:input|select|textarea|keygen)/i,o=/(\[[^\[\]]*\])/g;function y(e,t,r){if(t.match(o)){!function e(t,r,n){if(0===r.length)return t=n;var o=r.shift(),i=o.match(/^\[(.+?)\]$/);if("[]"===o)return t=t||[],Array.isArray(t)?t.push(e(null,r,n)):(t._values=t._values||[],t._values.push(e(null,r,n))),t;if(i){var a=i[1],s=+a;isNaN(s)?(t=t||{})[a]=e(t[a],r,n):(t=t||[])[s]=e(t[s],r,n)}else t[o]=e(t[o],r,n);return t}(e,function(e){var t=[],r=new RegExp(o),n=/^([^\[\]]*)/.exec(e);for(n[1]&&t.push(n[1]);null!==(n=r.exec(e));)t.push(n[1]);return t}(t),r)}else{var n=e[t];n?(Array.isArray(n)||(e[t]=[n]),e[t].push(r)):e[t]=r}return e}function w(e,t,r){return r=r.replace(/(\r)?\n/g,"\r\n"),r=(r=encodeURIComponent(r)).replace(/%20/g,"+"),e+(e?"&":"")+encodeURIComponent(t)+"="+r}t.exports=function(e,t){"object"!=typeof t?t={hash:!!t}:void 0===t.hash&&(t.hash=!0);for(var r=t.hash?{}:"",n=t.serializer||(t.hash?y:w),o=e&&e.elements?e.elements:[],i=Object.create(null),a=0;a<o.length;++a){var s=o[a];if((t.disabled||!s.disabled)&&s.name&&(g.test(s.nodeName)&&!v.test(s.type))){var c=s.name,u=s.value;if("checkbox"!==s.type&&"radio"!==s.type||s.checked||(u=void 0),t.empty){if("checkbox"!==s.type||s.checked||(u=""),"radio"===s.type&&(i[s.name]||s.checked?s.checked&&(i[s.name]=!0):i[s.name]=!1),null==u&&"radio"==s.type)continue}else if(!u)continue;if("select-multiple"!==s.type)r=n(r,c,u);else{u=[];for(var l=s.options,f=!1,d=0;d<l.length;++d){var m=l[d],p=t.empty&&!m.value,h=m.value||p;m.selected&&h&&(f=!0,r=t.hash&&"[]"!==c.slice(c.length-2)?n(r,c+"[]",m.value):n(r,c,m.value))}!f&&t.empty&&(r=n(r,c,""))}}}if(t.empty)for(var c in i)i[c]||(r=n(r,c,""));return r}},{}],7:[function(e,t,r){var n,l;n=this,l=function(e,t,r){for(var n in t)if(t.hasOwnProperty(n)){var o=n,i=t[n];if(void 0===i&&(i=""),null===i&&(i=""),void 0!==r&&(o=r+"["+n+"]"),i.constructor===Array)o+="[]";else if("object"==typeof i){l(e,i,o);continue}var a=e.elements.namedItem(o);if(a)switch(a.type||a[0].type){default:a.value=i;break;case"radio":case"checkbox":for(var s=0;s<a.length;s++)a[s].checked=-1<i.indexOf(a[s].value);break;case"select-multiple":for(var c=i.constructor==Array?i:[i],u=0;u<a.options.length;u++)a.options[u].selected|=-1<c.indexOf(a.options[u].value);break;case"select":case"select-one":a.value=i.toString()||i;break;case"date":a.value=new Date(i).toISOString().split("T")[0]}}},"function"==typeof o&&"object"==typeof o.amd&&o.amd?o(function(){return l}):void 0!==t&&t.exports?t.exports=l:n.populate=l},{}]},{},[1])}();
//# sourceMappingURL=forms-api.min.js.map

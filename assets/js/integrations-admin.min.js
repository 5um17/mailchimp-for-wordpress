!function(){var c=void 0;!function o(s,c,u){function l(t,e){if(!c[t]){if(!s[t]){var n=!1;if(!e&&n)return n(t,!0);if(a)return a(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=c[t]={exports:{}};s[t][0].call(i.exports,function(e){return l(s[t][1][e]||e)},i,i.exports,o,s,c,u)}return c[t].exports}for(var a=!1,e=0;e<u.length;e++)l(u[e]);return l}({1:[function(e,t,n){"use strict";var r=e("wolfy87-eventemitter");t.exports=new r},{"wolfy87-eventemitter":5}],2:[function(e,t,n){"use strict";var r,s={};s.toggleElement=function(e){for(var t=document.querySelectorAll(e),n=0;n<t.length;n++){var r=t[n].clientHeight<=0;t[n].style.display=r?"":"none"}},s.bindEventToElement=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent&&e.attachEvent("on"+t,n)},s.bindEventToElements=function(e,t,n){Array.prototype.forEach.call(e,function(e){s.bindEventToElement(e,t,n)})},s.debounce=function(r,i,o){var s;return function(){var e=this,t=arguments,n=o&&!s;clearTimeout(s),s=setTimeout(function(){s=null,o||r.apply(e,t)},i),n&&r.apply(e,t)}},r=document.querySelectorAll("[data-showif]"),Array.prototype.forEach.call(r,function(e){var n=JSON.parse(e.getAttribute("data-showif")),t=document.querySelectorAll('[name="'+n.element+'"]'),r=e.querySelectorAll("input,select,textarea:not([readonly])"),i=void 0===n.hide||n.hide;function o(){if("radio"!==this.getAttribute("type")||this.checked){var t=("checkbox"===this.getAttribute("type")?this.checked:this.value)==n.value;i?(e.style.display=t?"":"none",e.style.visibility=t?"":"hidden"):e.style.opacity=t?"":"0.4",Array.prototype.forEach.call(r,function(e){t?e.removeAttribute("readonly"):e.setAttribute("readonly","readonly")})}}Array.prototype.forEach.call(t,function(e){o.call(e)}),s.bindEventToElements(t,"change",o)}),t.exports=s},{}],3:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=e("./helpers.js"),o=e("./events.js"),s=document.getElementById("mc4wp-admin").querySelectorAll(".mc4wp-list-input"),c=window.mc4wp_vars.mailchimp.lists,u=[];function l(){return u=[],Array.prototype.forEach.call(s,function(e){"boolean"==typeof e.checked&&!e.checked||"object"!==r(c[e.value])||u.push(c[e.value])}),o.trigger("selectedLists.change",[u]),u}o.on("selectedLists.change",function(){var e=document.querySelectorAll(".lists--only-selected > *");Array.prototype.forEach.call(e,function(e){0<function(t,n){return u.filter(function(e){return e[t]===n})}("id",e.getAttribute("data-list-id")).length?e.setAttribute("class",e.getAttribute("class").replace("hidden","")):e.setAttribute("class",e.getAttribute("class")+" hidden")})}),i.bindEventToElements(s,"change",l),l(),t.exports={getSelectedLists:function(){return u}}},{"./events.js":1,"./helpers.js":2}],4:[function(e,t,n){"use strict";e("./admin/settings.js");var r=e("./admin/events.js"),i=document.getElementById("notice-additional-fields");function o(){var t=["EMAIL"],e=[].filter.call(document.querySelectorAll(".mc4wp-list-input"),function(e){return e.checked}).map(function(e){return e.value}).join(","),n=!1;window.fetch("".concat(ajaxurl,"?action=mc4wp_get_list_details&ids=").concat(e)).then(function(e){return e.json()}).then(function(e){e.forEach(function(e){e.merge_fields.forEach(function(e){e.required&&t.indexOf(e.tag)<0&&(n=!0)})})}).finally(function(){i.style.display=n?"":"none"})}i&&(o(),r.on("selectedLists.change",o))},{"./admin/events.js":1,"./admin/settings.js":3}],5:[function(e,s,t){!function(e){"use strict";function t(){}var n=t.prototype,r=e.EventEmitter;function o(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}n.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},n.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},n.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},n.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),i="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===o(r[n],t)&&r[n].push(i?t:{listener:t,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,t){var n,r,i=this.getListenersAsObject(e);for(r in i)i.hasOwnProperty(r)&&-1!==(n=o(i[r],t))&&i[r].splice(n,1);return this},n.off=i("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):s.call(this,r,i));return this},n.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"==n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(e,t){var n,r,i,o,s=this.getListenersAsObject(e);for(o in s)if(s.hasOwnProperty(o))for(n=s[o].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},n.trigger=i("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return e.EventEmitter=r,t},"function"==typeof c&&c.amd?c(function(){return t}):"object"==typeof s&&s.exports?s.exports=t:e.EventEmitter=t}("undefined"!=typeof window?window:this||{})},{}]},{},[4])}();
//# sourceMappingURL=integrations-admin.min.js.map
